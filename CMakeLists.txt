cmake_minimum_required(VERSION 3.10.0)
project(sfdi VERSION 0.1.0 LANGUAGES C CXX)

add_executable(sfdi main.cpp)
find_package(NLopt CONFIG REQUIRED)
find_package(OpenCV REQUIRED)
find_package(Eigen3 CONFIG REQUIRED)
find_package(OpenBLAS CONFIG REQUIRED)
include_directories(${OpenCV_INCLUDE_DIRS})
target_link_libraries(sfdi PRIVATE NLopt::nlopt  Eigen3::Eigen ${OpenCV_LIBS} OpenBLAS::OpenBLAS)
target_compile_options(sfdi PRIVATE -O3  -ffast-math -funroll-loops -flto -fopenmp-simd)
target_link_libraries(sfdi PRIVATE -fopenmp -flto )
include(CPack)